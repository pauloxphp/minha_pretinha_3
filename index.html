<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#000000">

    <title>Nosso Universo Infinito</title>
    <style>
        /* RESET */
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #000000;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            color: white;
            height: 100dvh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            touch-action: none;
        }

        canvas {
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
            width: 100%;
            height: 100%;
        }

        /* TELA INICIAL */
        #start-screen {
            position: absolute;
            z-index: 20;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            transition: opacity 1s ease;
        }

        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #ff3366, #ff99cc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 800;
        }

        .subtitle { color: #ccc; margin-bottom: 40px; font-size: 1rem; max-width: 80%; }

        .ios-btn {
            background: #ff3366;
            color: white;
            border: none;
            padding: 18px 36px;
            font-size: 1.1rem;
            border-radius: 30px;
            font-weight: 600;
            box-shadow: 0 0 20px rgba(255, 51, 102, 0.6);
            transition: transform 0.2s;
            cursor: pointer;
        }
        .ios-btn:active { transform: scale(0.95); }

        /* FOTOS VOANDO */
        .flying-photo {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            width: 300px; /* Tamanho bom para iPhone */
            height: 380px;
            object-fit: cover;
            border-radius: 12px;
            box-shadow: 0 0 50px rgba(255, 255, 255, 0.15);
            border: 2px solid rgba(255,255,255,0.8);
            opacity: 0;
            z-index: 10;
            will-change: transform, opacity;
            pointer-events: none;
        }

        @keyframes warpPhoto {
            0% { transform: translate(-50%, -50%) scale(0.05) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            80% { opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(4) rotate(var(--rotation)); opacity: 0; }
        }

        /* TEXTOS */
        #message-container {
            position: absolute;
            bottom: 12%;
            width: 90%;
            text-align: center;
            z-index: 15;
            font-size: 1.5rem;
            font-weight: 700;
            text-shadow: 0 4px 15px rgba(0,0,0,1);
            opacity: 0;
            transition: opacity 0.5s ease;
            color: #fff;
        }

        /* FINAL */
        #final-screen {
            display: none;
            position: absolute;
            z-index: 100;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            opacity: 0;
            transition: opacity 2s ease;
        }
        .heart-beat { font-size: 5rem; animation: beat 1.2s infinite; margin-bottom: 20px; color: #ff3366; }
        @keyframes beat { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }

    </style>
</head>
<body>

    <audio id="bgMusic" loop playsinline>
        <source src="musica2.mp3" type="audio/mpeg">
    </audio>

    <div id="start-screen">
        <h1>Nossas Mem√≥rias</h1>
        <p class="subtitle">Prepare o cora√ß√£o (e o volume).</p>
        <button class="ios-btn" onclick="startExperience()">VIAJAR AGORA üöÄ</button>
    </div>

    <canvas id="starCanvas"></canvas>
    <div id="message-container"></div>

    <div id="final-screen">
        <div class="heart-beat">‚ù§Ô∏è</div>
        <h2 style="font-size: 2rem; margin: 0; color: white;">Infinito.</h2>
        <p style="margin-top: 10px; color: #ddd;">Te amo, minha Pretinha.</p>
        <button class="ios-btn" style="margin-top: 30px; background: rgba(255,255,255,0.2);" onclick="location.reload()">Replay</button>
    </div>

    <script>
        // ==========================================
        // CONFIGURA√á√ÉO F√ÅCIL (MUDE AQUI)
        // ==========================================
        
        // 1. Quantas fotos voc√™ subiu? (ex: se for at√© foto50.jpg, coloque 50)
        const TOTAL_FOTOS = 10; 

        // 2. Frases que v√£o aparecer aleatoriamente
        const FRASES = [
           "Teu sorriso sempre me desmonta moz√£o",
            "A gente virando a madrugada como sempre",
            "Se n√£o √© destino, √© teimosia nossa que deu certo",
            "Voc√™ √© a minha notifica√ß√£o favorita vidaaaaa",
            "N√≥s dois‚Ä¶ daquele jeitinho que s√≥ a gente entende",
            "Sorte mesmo √© ter voc√™ depois de tudo",
            "Nossos momentos falam mais que qualquer foto",
            "Eu te amo do jeito que s√≥ a gente sabe",
            "C√™ virou meu porto seguro sem esfor√ßo nenhum",
            "Chamou‚Ä¶ e claro que eu vim",
            "09/08/2025"
        ];

        // 3. Extens√£o das fotos (geralmente .jpg, .jpeg ou .png)
        const EXTENSAO = ".jpg"; 

        // ==========================================
        // C√ìDIGO DO SISTEMA (N√ÉO PRECISA MEXER)
        // ==========================================

        // Gera a lista de fotos automaticamente
        let timeline = [];
        for (let i = 1; i <= TOTAL_FOTOS; i++) {
            timeline.push({
                img: `foto${i}${EXTENSAO}`,
                // Pega uma frase aleat√≥ria da lista ou usa uma frase fixa
                text: FRASES[Math.floor(Math.random() * FRASES.length)]
            });
        }

        // Sistema de Estrelas Otimizado
        const canvas = document.getElementById('starCanvas');
        const ctx = canvas.getContext('2d');
        let width, height;
        let stars = [];
        let speed = 0.5;

        function resize() {
            width = window.innerWidth;
            height = window.innerHeight;
            const scale = window.devicePixelRatio || 1;
            canvas.width = width * scale;
            canvas.height = height * scale;
            ctx.scale(scale, scale);
        }
        window.addEventListener('resize', resize);
        resize();

        class Star {
            constructor() {
                this.x = (Math.random() - 0.5) * width;
                this.y = (Math.random() - 0.5) * height;
                this.z = Math.random() * width;
                this.color = Math.random() > 0.8 ? "#ff3366" : "#ffffff";
            }
            update() {
                this.z -= speed * 20;
                if (this.z <= 0) {
                    this.z = width;
                    this.x = (Math.random() - 0.5) * width;
                    this.y = (Math.random() - 0.5) * height;
                }
            }
            draw() {
                let x = (this.x / this.z) * width + width / 2;
                let y = (this.y / this.z) * height + height / 2;
                let size = (1 - this.z / width) * 2;
                ctx.fillStyle = this.color;
                ctx.beginPath();
                ctx.arc(x, y, size < 0 ? 0 : size, 0, Math.PI * 2);
                ctx.fill();
            }
        }
        for (let i = 0; i < 300; i++) stars.push(new Star());

        function animateStars() {
            ctx.fillStyle = "rgba(0, 0, 0, 0.3)";
            ctx.fillRect(0, 0, width, height);
            stars.forEach(star => { star.update(); star.draw(); });
            requestAnimationFrame(animateStars);
        }
        animateStars();

        // L√≥gica da Viagem
        function startExperience() {
            const btn = document.querySelector('.ios-btn');
            btn.innerHTML = "Carregando...";
            
            const audio = document.getElementById('bgMusic');
            audio.play().then(() => {
                document.getElementById('start-screen').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('start-screen').style.display = 'none';
                    startWarp();
                }, 800);
            }).catch(() => {
                alert("Toque na tela novamente para liberar o som!");
                audio.play();
            });
        }

        function startWarp() {
            // Acelera
            let accel = setInterval(() => {
                if(speed < 4) speed += 0.1;
                else clearInterval(accel);
            }, 100);
            showNextMemory(0);
        }

        function showNextMemory(index) {
            if (index >= timeline.length) {
                finishExperience();
                return;
            }

            const item = timeline[index];
            const msgBox = document.getElementById('message-container');

            // Cria imagem
            const img = document.createElement('img');
            img.src = item.img;
            img.className = 'flying-photo';
            
            // Define uma rota√ß√£o aleat√≥ria para dar dinamismo (-15 a 15 graus)
            const rotation = (Math.random() * 30) - 15 + 'deg';
            img.style.setProperty('--rotation', rotation);
            
            img.style.animation = "warpPhoto 4s linear forwards"; // 4 segundos por foto
            document.body.appendChild(img);

            // Mostra Texto
            msgBox.innerText = item.text;
            msgBox.style.opacity = 1;

            // Agenda pr√≥xima
            setTimeout(() => {
                msgBox.style.opacity = 0;
                setTimeout(() => img.remove(), 1000); 
                showNextMemory(index + 1);
            }, 3500); // Um pouco mais r√°pido entre as fotos
        }

        function finishExperience() {
            // Desacelera
            let decel = setInterval(() => {
                if(speed > 0.2) speed -= 0.1;
                else clearInterval(decel);
            }, 100);

            const finalScreen = document.getElementById('final-screen');
            finalScreen.style.display = 'flex';
            // Pequeno delay para o fade in
            setTimeout(() => { finalScreen.style.opacity = 1; }, 100);
        }
    </script>
</body>
</html>
